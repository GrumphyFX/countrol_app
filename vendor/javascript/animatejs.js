import e from"jquery";import t from"autoprefixer-core";import r from"es6-promise";var n="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var i={};var a=Array.prototype.slice;"use strict";var o=e;var s=t;var u=r.Promise;if(!n.document)throw new Error("cannot run animate, need a global document");var _generateSheet=function(){return o("<style/>",{class:"animate",id:"animate",type:"text/css"}).appendTo("head")[0].sheet};var l=function(){var e=document.documentElement.style;var t=["Webkit","Moz","O","ms","Khtml"];var r="Animation";var n="";var i=n;var a=false;if(r.toLowerCase()in e)a=true;else for(var o=0;o<t.length;o++){n=t[o];var s=n.toLowerCase();var u=s+r;if(u in e){i=["-",s,"-"].join("");a=true;break}}if(!a)throw new Error("CSS3 Animations are not supported in this browser. Animate library will not work.");return{normal:n,dashed:i}}();var f=[];var m=_generateSheet();var c=["webkit","moz","MS","o",""];var v=function(e){return function(t){return function(r){return function(i){return function(l){return function(){var f=function Animate(e){(this||n).animations=[];return this.query(e)};Object.defineProperties(f.prototype,{on:{writable:true,value:function(t,r){for(var i=0;i<e.length;i++){e[i]||(t=t.toLowerCase());var a=e[i]+t;(this||n).$els.on(a,r.bind(null,this||n))}return this||n}},off:{writable:true,value:function(t){for(var r=0;r<e.length;r++){e[r]||(t=t.toLowerCase());var i=e[r]+t;(this||n).$els.off(i)}return this||n}},kf:{writable:true,value:function(e){if(!e)throw new Error(".kf expects a keyframe object");var a=e.name;delete e.name;a||(a="keyframe-"+r.length);var o="@"+i.dashed+"keyframes "+a+"  {";for(var u in e){var l=e[u];!Number.isNaN(u)&&u>=0&&u<=100&&(u+="%");if("string"!==typeof u)throw new Error("object key must be a string or number (0-100)");o+=u;var f=" { ";for(var m in l)f+=m+":"+l[m]+"; ";f+=" }";o+=s.process(f).css}o+="}";t.insertRule(o,t.cssRules.length);r.push(a);return this||n}},keyframe:{writable:true,value:function(e){return this.kf(e)}},setKeyframe:{writable:true,value:function(e){return this.kf(e)}},set:{writable:true,value:function(){var e=a.call(arguments);for(var t=0;t<e.length;t++){var r=e[t];if("object"===typeof r){r=o.extend({name:"",duration:"",timingFunction:"",delay:"",iterationCount:"",direction:"",fillMode:""},r);r=[r.name,r.duration,r.timingFunction,r.delay,r.iterationCount,r.direction,r.fillMode].join(" ")}if("string"!==typeof r)throw new Error(".set expects a string or an animation object");(this||n).animations.push(r)}return this||n}},query:{writable:true,value:function(e){(this||n).$els=o(e);return this||n}},reset:{writable:true,value:function(){(this||n).animations=[];(this||n).$els.css("animation","");(this||n).$els.width();return this.off("AnimationIteration").off("AnimationEnd")}},clean:{writable:true,value:function(){o("style.animate").remove();t=l();return this.reset()}},pause:{writable:true,value:function(){(this||n).$els.css("animation-play-state","paused");return this||n}},resume:{writable:true,value:function(){(this||n).$els.css("animation-play-state","running");return this||n}},play:{writable:true,value:function(){var e=this||n;(this||n).$els.css("animation",(this||n).animations.join(","));this.resume();return u.all((this||n).animations.map((function(){return new u((function(t){e.on("AnimationEnd",t)}))}))).then((function(){return e.reset()}))}}});return f}}}}}}(c)(m)(f)(l)(_generateSheet)();i.default=function(e){return new v(e)};var h={};var d=i.default;h=d;var w=h;export default w;

